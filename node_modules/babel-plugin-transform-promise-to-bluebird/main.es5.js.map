{"version":3,"sources":["main.es2015.js"],"names":[],"mappings":";;;;;kBAAwB,iB;AAAT,SAAS,iBAAT,OAAuC;AAAA,KAAJ,CAAI,QAAX,KAAW;;AACrD,QAAO;AACN,WAAS;AACR,uBADQ,gCACa,IADb,EACmB,KADnB,EAC0B;AAAA,QAC1B,IAD0B,GACH,IADG,CAC1B,IAD0B;AAAA,QACpB,MADoB,GACH,IADG,CACpB,MADoB;AAAA,QACZ,KADY,GACH,IADG,CACZ,KADY;;;AAGjC,QAAI,KAAK,IAAL,KAAc,SAAlB,EAA6B;AAC7B,QAAI,EAAE,kBAAF,CAAqB,MAArB,CAAJ,EAAkC;AAClC,QAAI,MAAM,oBAAN,CAA2B,SAA3B,CAAJ,EAA2C;;AAE3C,SAAK,WAAL,CAAiB,MAAM,SAAN,CAAgB,UAAhB,EAA4B,SAA5B,EAAuC,SAAvC,CAAjB;AACA,IATO;AAWR,mBAXQ,4BAWS,IAXT,EAWe,KAXf,EAWsB;AAAA,QACtB,IADsB,GACd,IADc,CACtB,IADsB;;AAE7B,QAAM,MAAM,KAAK,MAAjB;;AAEA,QAAI,IAAI,IAAJ,KAAa,SAAjB,EAA4B;AAC5B,QAAI,CAAC,KAAK,YAAL,EAAL,EAA0B;AAC1B,QAAI,KAAK,KAAL,CAAW,oBAAX,CAAgC,SAAhC,CAAJ,EAAgD;;AAEhD,QAAI,KAAK,QAAT,EAAmB;AAClB,UAAK,WAAL,CACC,EAAE,gBAAF,CACC,MAAM,SAAN,CAAgB,UAAhB,EAA4B,SAA5B,EAAuC,SAAvC,CADD,EAEC,KAAK,QAFN,EAGC,IAHD,CADD;AAOA,KARD,MAQO;AACN,UAAK,WAAL,CAAiB,MAAM,SAAN,CAAgB,UAAhB,EAA4B,KAAK,QAAL,CAAc,IAA1C,EAAgD,SAAhD,CAAjB;AACA;AACD;AA9BO;AADH,EAAP;AAkCA","file":"main.es5.js","sourcesContent":["export default function promiseToBluebird({types: t}) {\n\treturn {\n\t\tvisitor: {\n\t\t\tReferencedIdentifier(path, state) {\n\t\t\t\tconst {node, parent, scope} = path;\n\n\t\t\t\tif (node.name !== 'Promise') return;\n\t\t\t\tif (t.isMemberExpression(parent)) return;\n\t\t\t\tif (scope.getBindingIdentifier('Promise')) return;\n\n\t\t\t\tpath.replaceWith(state.addImport('bluebird', 'default', 'Promise'));\n\t\t\t},\n\n\t\t\tMemberExpression(path, state) {\n\t\t\t\tconst {node} = path;\n\t\t\t\tconst obj = node.object;\n\n\t\t\t\tif (obj.name !== 'Promise') return;\n\t\t\t\tif (!path.isReferenced()) return;\n\t\t\t\tif (path.scope.getBindingIdentifier('Promise')) return;\n\n\t\t\t\tif (node.computed) {\n\t\t\t\t\tpath.replaceWith(\n\t\t\t\t\t\tt.memberExpression(\n\t\t\t\t\t\t\tstate.addImport('bluebird', 'default', 'Promise'),\n\t\t\t\t\t\t\tnode.property,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tpath.replaceWith(state.addImport('bluebird', node.property.name, 'Promise'));\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t};\n}\n"]}